{"version":3,"names":["_safeBuffer","require","_keys","_Utils","_ec","_pbkdf","_Hash","_aes","_rsa","_Algorithms","exportKeySpki","key","algorithm","name","type","rsaExportKey","KWebCryptoKeyFormat","kWebCryptoKeyFormatSPKI","ecExportKey","Error","exportKeyPkcs8","kWebCryptoKeyFormatPKCS8","exportKeyRaw","kWebCryptoKeyFormatRaw","keyObject","export","lazyDOMException","exportKeyJWK","jwk","handle","exportJwk","key_ops","usages","ext","extractable","alg","normalizeHashName","hash","HashContext","JwkRsa","JwkRsaPss","JwkRsaOaep","crv","namedCurve","getAlgorithmName","length","importGenericSecretKey","format","keyData","keyUsages","hasAnyNotIn","checkLength","SBuffer","isBuffer","byteLength","undefined","createSecretKey","CryptoKey","checkCryptoKeyPairUsages","pair","privateKey","Buffer","Object","prototype","hasOwnProperty","call","priv","console","log","signVerify","data","signature","usage","normalizeAlgorithm","includes","ecdsaSignVerify","cipherOrWrap","mode","op","validateMaxBufferLength","rsaCipher","aesCipher","Subtle","decrypt","normalizedAlgorithm","CipherOrWrapMode","kWebCryptoCipherDecrypt","bufferLikeToArrayBuffer","digest","asyncDigest","deriveBits","baseKey","pbkdf2DeriveBits","encrypt","kWebCryptoCipherEncrypt","exportKey","generateKey","result","rsaKeyGenerate","ecGenerateKey","aesGenerateKey","importKey","rsaImportKey","ecImportKey","aesImportKey","sign","verify","exports","subtle"],"sourceRoot":"../../src","sources":["subtle.ts"],"mappings":"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","ignoreList":[]}
